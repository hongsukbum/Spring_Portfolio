<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace = "com.portfolio.spring.dao.UserDao">
	
	<select id = "userInfo"  resultType = "com.portfolio.spring.dto.UserInfoDto">
		SELECT * FROM USERINFO WHERE UID = #{param1}
	</select>
	
	<select id = "userNick" resultType = "java.lang.String">
		SELECT UNICK FROM USERINFO WHERE UID = #{param1}
	</select>
	
	<select id = "checkUserId" resultType = "java.lang.Integer">
		SELECT COUNT(*) FROM USERINFO WHERE UID = #{param1}
	</select>
	
	<select id = "checkUserNick" resultType = "java.lang.Integer">
		SELECT COUNT(*) FROM USERINFO WHERE UNICK = #{param1}
	</select>
	
	<insert id = "joinUser">
		INSERT INTO USERINFO(UID, UPW, UNICK, UPHONE, UADDR, UBIRTH, UGENDER) VALUES(#{param1}, #{param2}, #{param3}, #{param4}, #{param5}, #{param6}, #{param7})
	</insert>
	
	<update id = "modifyUser">
		UPDATE USERINFO SET UPW = #{param2}, UNICK = #{param3}, UPHONE = #{param4}, UADDR = #{param5}, UBIRTH = #{param6}, UGENDER = #{param7} WHERE UID = #{param1} 
	</update>
	
</mapper>